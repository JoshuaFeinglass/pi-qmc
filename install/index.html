<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>pi-qmc: Build / Install</title>

    <link rel="stylesheet" href="../stylesheets/styles.css">
    <link rel="stylesheet" href="../stylesheets/pygment_trac.css">
    <script src="../javascripts/headfoot.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <script type="text/JavaScript"><!--
        writeHeader("../"); //-->
      </script>
      <section>
         <h1>Introduction</h1>
         <p>The easiest way to build is to use</p>
         <pre> ./configure &nbsp;
         make
         </pre>
        <p>For a parallel build</p>
        <pre>./configure --enable-mpi MPICXX=mpic++ MPICC=mpicc MPIF77=mpif77</pre>
        <p>where you should use the names of your MPI enabled compilers.</p>
        <p>You can also build for different numbers of physical dimensions (default is NDIM=3)</p>
        <pre>./configure --with-ndim=2</pre>
      </section>
      <section>
        <h1>Required Libraries</h1>
        <p>We use the following libraries in the <i>pi</i> code:</p>
            <li><a href= "http://xmlsoft.org/">libxml2</a>).</li>
            <!--HYPERLINK ON BLITZ++ DOES NOT WORK
            <li><a href= "http://xmlsoft.org/">blitz++</a>).</li> -->
            <li><a href= "http://www.hdfgroup.org/">hdf5</a>).</li>
            <li><a href= "http://xmlsoft.org/">fftw3</a>).</li>          
            <li>BLAS/LAPACK</li>
            <li><a href= "http://www.gnu.org/software/gsl/">gsl</a>).</li>       
        <h1>Advanced build using multiple directories</h1>
        <p>In research, we often want different versions of the executables, for example, versions with and without MPI, or versions compiled for two-dimensional systems. To accomplish this, we make a pibuilds directory beside our svn checkout directory (pi or pi-qmc). We then make empty subdirectories for each build, for example ndim2mpi for a two dimensional MPI version. A typical directory structure is:</p>
        <pre>
          codes/
            pi-qmc/
            configure
            src/
            lib/
          pibuilds/
            ndim1/
            ndim2/
            ndim3/
            ndim1mpi/
            ndim2mpi/
            ndim3mpi/
            debug/
        </pre>
        <p>To build, go into the empty build directory,</p>
        <pre> cd ~/codes/pibuilds/ndim2mpi</pre>
        <p>Then run the configure script with the desired options</p>
        <pre> ../../configure --with-ndim=2 --enable-mpi</pre>
        <p>You will probably want more configure options; see the platform specific instructions below for some examples.
            Then, make the code in that directory,</p>
        <pre> make -j2</pre>
        <p>For conveniance, you can make a soft link to the executable</p>
        <pre> ln -sf ~/codes/pibuilds/ndim3mpi ~/bin/pi2Dmpi</pre>
      </section>
      <script type="text/JavaScript"><!--
        writeFooter("../"); //-->
      </script>
    </div>
    <script src="javascripts/scale.fix.js"></script>
  </body>
</html>
